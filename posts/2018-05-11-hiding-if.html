<html>
<head>
  <title> Living with "If"</title>
  <link rel="stylesheet" type="text/css" href="style.css"/>
  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
  });
  </script>
  <script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"> </script>
  <!-- Global Site Tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-1450977-3"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments)};
    gtag('js', new Date());
  
    gtag('config', 'UA-1450977-3');
  </script>

</head>
<body>
<h1>Living with "If"</h1>

<h2>Summary</h2>
<p>
The conditionality, or "if", props up in programming all the time. 
We will see why its preponderance makes life difficult for us, how
our efforts to get rid of it have proven futile and what is the best we can do. We will also see
that it occurs less in Mathematics and even less in Physics.
</p>
<h2>Ifs, States, Chess and Programming </h2>
<p>
If you play chess, you might remember your novice days. Novices make blunders very often. Their
queen would be under attack, and they would know it, but then they would get lost in evaluating
alternative lines of play, and forget that their queen is under attack. Next move they would lose
their queen and the game. As we play more and more, blunders become less frequent, but they never
go to zero.
</p>

<p>
Why is that so? Why do we miss things which we know? It is because human brain is capable of holding
only a few possibilities at a mind. (See, for example, 
<a href="https://en.wikipedia.org/wiki/The_Magical_Number_Seven,_Plus_or_Minus_Two">here</a>.)
Since the game of chess is full of possibilities, it easy to forget about some.
</p>

<p>
Let's delve a bit on what is a "possibility". It is potential state change that you need
to consciously take care of. As we practice something, some of the possible state changes
can be taken care of subconsciously and do not count in a possibility.
</p>

<p>
For instance, a newbie driver needs to worry about the positions of accelerator, brake or clutch
apart from paying attention to positions of various vehicles on the road. However, as he matures,
his manuovering of accelerator, brake and clutch happens subconsciously and he can pay attention
to the big picture which involves the position of various vehicles relative to his vehcile.
</p>

<p>
Similarly while for a novice chess player, many moves may be possibilities, an expert can focus
only on the more promising movies, reducing the number of possibilities.
</p>

<p>
Computers are ultimately, giant state machines. The state machine of registers and main memory
is accessible to the programmar in the form of variables. The programmar must manipulate
these variables to achieve his goals. Except for non trivial tasks, there are more than one 
possibities that can arise. A large class of bugs arises because of our inability to retain the large
number of possibilties in our head.
</p>

<p>
Consider the following ugly code (taken from <a href="https://www.codeproject.com/Articles/626403/How-and-Why-to-Avoid-Excessive-Nesting">here</a>)
<pre>
private void DoStuff() {
    foreach (thing in thisList) {
        if (condition1) {
            if (condition2) {
                DoThis(thing);
            } else {
                if (condition3) {
                    continue;
                } else {
                    if (condition4) {
                        continue;
                    } else {
                        if (condition5) {
                            if (condition6) {
             ------------------&gt; <b>continue;</b>
                            } else {
                                if (condition7) {
                                    continue;
                                } else {
                                    if (condition8) {
                                        DoThis(thing);
                                    }
                                }
                            }
                        }
                    }
                }
            }
        } else {
            DoThis(thing);
        }
    }
}
</pre>
<p>
If you are writing code at the marked location, you need to remember that:
<ul>
<li>condition1 is true</li>
</ul>

</p>
</p>
<h2>Max/Min functions and absolute values</h2>
<p>
We all have encountered these very useful functions:
</p>
$$
   max(a, b) =
\begin{cases}
a,  & \text{if $a >= b$} \\
b, & \text{otherwise}
\end{cases}
$$
$$
   min(a, b) =
\begin{cases}
a,  & \text{if $a <= b$} \\
b, & \text{otherwise}
\end{cases}
$$
<p>
Note, there is an "if" in the above definitions.
</p>
<p>
I was very happy when I saw following identities:
</p>
$$max(a, b) = \frac{|a + b| + |a - b|}{2}$$
$$min(a, b) = \frac{|a + b| - |a - b|}{2}$$

<p>
I was amazed that using the power of Mathematics, we have eliminated that dirty looking "if". However, 
reflecting for a moment showed that it is not the case. What is $|x|$ after all?
</p>
$$
   |x| =
\begin{cases}
x,  & \text{if $x >= 0$} \\
-x, & \text{otherwise}
\end{cases}
$$
<p>
Thus the "if" in original identities has not gone, it has just been hidden.
</p>
- if is like shit, you need it, but please hide it.
</body>
</html>
